<form action="{:sysuri()}" method="post" data-auto="true" class="layui-form-pane layui-tab layui-form layui-card">
    <div class="layui-card-body padding-left-40">
        <div class="layui-form-item">
            <label class="layui-form-label color-green">所属频道</label>
            <div class="layui-input-block">
                <select class="layui-select" name="release_channel_id">
                    {foreach $channel as $k=>$v}
                    {if isset($vo.release_channel_id) and $vo.release_channel_id eq $k}
                    <option selected value="{$k}">{$v}</option>
                    {else}
                    <option value="{$k}">{$v}</option>
                    {/if}{/foreach}
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label color-green">频道ID</label>
            <div class="layui-input-block">
                <input name="channel_id" maxlength="20" value="{$vo.channel_id|default=''}" placeholder="请输入频道ID"  type="number" required class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label color-green">频道标题</label>
            <div class="layui-input-block">
                <input name="channel_title" maxlength="16" value="{$vo.channel_title|default=''}" placeholder="请输入频道标题" required class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label color-green">频道名</label>
            <div class="layui-input-block">
                <input name="channel_name" id="channel_name" maxlength="32" value="{$vo.channel_name|default=''}" placeholder="请输入频道名" class="layui-input">
                <div class="layui-input-split layui-input-suffix padding-top-5" style="cursor: pointer;text-align: center;">
                    <i class="layui-icon layui-icon-search" lay-affix="channel_name"></i>
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label color-green">频道链接</label>
            <div class="layui-input-block">
                <input name="channel_link" maxlength="32" value="{$vo.channel_link|default=''}" placeholder="请输入账号链接" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label color-green">频道备注</label>
            <div class="layui-input-block">
                <input name="remark" value="{$vo.remark|default=''}" placeholder="请输入频道备注" class="layui-input">
            </div>
        </div>
    </div>

    <div class="hr-line-dashed"></div>
    {notempty name='vo.id'}<input type='hidden' value='{$vo.id}' name='id'>{/notempty}

    <div class="layui-form-item text-center">
        <button class="layui-btn" type='submit'>保存数据</button>
        <button class="layui-btn layui-btn-danger" type='button' data-confirm="确定要取消编辑吗？" data-close>取消编辑</button>
    </div>
</form>
<!--<script>-->
<!--    layui.use(['form', 'jquery'], function() {-->
<!--        var $ = layui.$;-->
<!--        // 监听点击事件-->
<!--        $('[lay-affix="channel_name"]').on('click', function() {-->
<!--            var inputElem = $('#channel_name');-->
<!--            var inputValue = inputElem.val();-->
<!--            if (inputValue) {-->
<!--                var apiBaseUrl = window.location.origin;  // 获取当前域名-->
<!--                var apiUrl = apiBaseUrl + '/plugin-telegram/channel/getChannelID';-->
<!--                $.ajax({-->
<!--                    url: apiUrl,-->
<!--                    type: 'POST',-->
<!--                    data: {-->
<!--                        channel_name: inputValue-->
<!--                    },-->
<!--                    success: function(response) {-->
<!--                        $('input[name="channel_id"]').val(response);-->
<!--                    },-->
<!--                });-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->